<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ - –ú–∏–Ω–∏-–±–∏–ª—å—è—Ä–¥</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .rules {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 15px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .table-container {
            overflow-x: auto;
            padding: 10px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        th {
            background: #34495e;
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: bold;
            position: sticky;
            top: 0;
        }
        
        td {
            padding: 10px 8px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        tr:hover {
            background: #e8f4f8;
        }
        
        .controls {
            padding: 20px;
            background: #ecf0f1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .controls {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .control-group {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        select, button {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        button.add {
            background: #27ae60;
        }
        
        button.add:hover {
            background: #219a52;
        }
        
        button.reset {
            background: #e74c3c;
        }
        
        button.reset:hover {
            background: #c0392b;
        }
        
        .rank-1 {
            background: #fff9c4 !important;
            font-weight: bold;
        }
        
        .rank-2 {
            background: #f5f5f5 !important;
        }
        
        .rank-3 {
            background: #ffecb3 !important;
        }
        
        .points {
            font-weight: bold;
            color: #e91e63;
        }
        
        .player-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .medal {
            font-size: 18px;
        }
        
        .gold { color: #ffd700; }
        .silver { color: #c0c0c0; }
        .bronze { color: #cd7f32; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèÜ –¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ - –ú–∏–Ω–∏-–±–∏–ª—å—è—Ä–¥</h1>
            <p>–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤: –ü–æ–±–µ–¥–∞ = 2 –æ—á–∫–∞, –ü–æ—Ä–∞–∂–µ–Ω–∏–µ = 1 –æ—á–∫–æ</p>
        </header>
        
        <div class="rules">
            <strong>–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω–∏—Ä–∞:</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li>–ó–∞ –ø–æ–±–µ–¥—É –≤ –º–∞—Ç—á–µ –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç <strong>2 –æ—á–∫–∞</strong></li>
                <li>–ó–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∞—Ç—á–µ –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç <strong>1 –æ—á–∫–æ</strong></li>
                <li>–¢–∞–±–ª–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—á–∫–æ–≤</li>
                <li>–ü—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ –æ—á–∫–æ–≤ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥</li>
            </ul>
        </div>
        
        <div class="table-container">
            <table id="tournament-table">
                <thead>
                    <tr>
                        <th width="50">–ú–µ—Å—Ç–æ</th>
                        <th>–£—á–∞—Å—Ç–Ω–∏–∫</th>
                        <th width="80">–ò–≥—Ä—ã</th>
                        <th width="80">–ü–æ–±–µ–¥—ã</th>
                        <th width="80">–ü–æ—Ä–∞–∂–µ–Ω–∏—è</th>
                        <th width="80">–û—á–∫–∏</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </tbody>
            </table>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>üìù –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <input type="text" id="new-player-name" placeholder="–§–∞–º–∏–ª–∏—è –∏ –∏–º—è" style="padding: 12px; width: 100%; margin-bottom: 10px; border: 1px solid #bdc3c7; border-radius: 5px; font-size: 16px;">
                <button class="add" onclick="addPlayer()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
            </div>
            
            <div class="control-group">
                <h3>üéØ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç—á</h3>
                <select id="player1">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ 1</option>
                </select>
                <select id="player2">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ 2</option>
                </select>
                <select id="winner">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è</option>
                    <option value="player1">–ü–æ–±–µ–¥–∏–ª –ø–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫</option>
                    <option value="player2">–ü–æ–±–µ–¥–∏–ª –≤—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫</option>
                </select>
                <button onclick="registerMatch()">‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç—á</button>
            </div>
            
            <div class="control-group" style="grid-column: 1 / -1;">
                <h3>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–º</h3>
                <button onclick="resetTournament()" class="reset">üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–∞
        let players = [];
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        function loadData() {
            const savedData = localStorage.getItem('tournamentData');
            if (savedData) {
                players = JSON.parse(savedData);
            }
            updateTable();
            updatePlayerSelects();
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
        function saveData() {
            localStorage.setItem('tournamentData', JSON.stringify(players));
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
        function addPlayer() {
            const nameInput = document.getElementById('new-player-name');
            const name = nameInput.value.trim();
            
            if (name === '') {
                alert('–í–≤–µ–¥–∏—Ç–µ –∏–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç
            if (players.find(player => player.name.toLowerCase() === name.toLowerCase())) {
                alert('–£—á–∞—Å—Ç–Ω–∏–∫ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                return;
            }
            
            players.push({
                id: Date.now(),
                name: name,
                games: 0,
                wins: 0,
                losses: 0,
                points: 0
            });
            
            nameInput.value = '';
            saveData();
            updateTable();
            updatePlayerSelects();
        }
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ç—á–∞
        function registerMatch() {
            const player1Select = document.getElementById('player1');
            const player2Select = document.getElementById('player2');
            const winnerSelect = document.getElementById('winner');
            
            const player1Id = parseInt(player1Select.value);
            const player2Id = parseInt(player2Select.value);
            const winner = winnerSelect.value;
            
            if (!player1Id || !player2Id || !winner) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Ç—á–∞');
                return;
            }
            
            if (player1Id === player2Id) {
                alert('–ò–≥—Ä–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å –ø—Ä–æ—Ç–∏–≤ —Å–µ–±—è');
                return;
            }
            
            const player1 = players.find(p => p.id === player1Id);
            const player2 = players.find(p => p.id === player2Id);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤
            player1.games++;
            player2.games++;
            
            if (winner === 'player1') {
                player1.wins++;
                player2.losses++;
                player1.points += 2;
                player2.points += 1;
            } else {
                player2.wins++;
                player1.losses++;
                player2.points += 2;
                player1.points += 1;
            }
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            player1Select.value = '';
            player2Select.value = '';
            winnerSelect.value = '';
            
            saveData();
            updateTable();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
        function updateTable() {
            const tableBody = document.getElementById('table-body');
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –æ—á–∫–∞–º (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
            const sortedPlayers = [...players].sort((a, b) => {
                if (b.points !== a.points) {
                    return b.points - a.points;
                }
                // –ü—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ –æ—á–∫–æ–≤ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø–æ–±–µ–¥–∞–º
                return b.wins - a.wins;
            });
            
            tableBody.innerHTML = '';
            
            sortedPlayers.forEach((player, index) => {
                const row = document.createElement('tr');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –¥–ª—è –ø–µ—Ä–≤—ã—Ö —Ç—Ä–µ—Ö –º–µ—Å—Ç
                if (index === 0) row.classList.add('rank-1');
                if (index === 1) row.classList.add('rank-2');
                if (index === 2) row.classList.add('rank-3');
                
                let medal = '';
                if (index === 0) medal = '<span class="medal gold">ü•á</span>';
                else if (index === 1) medal = '<span class="medal silver">ü•à</span>';
                else if (index === 2) medal = '<span class="medal bronze">ü•â</span>';
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td><div class="player-name">${medal} ${player.name}</div></td>
                    <td>${player.games}</td>
                    <td>${player.wins}</td>
                    <td>${player.losses}</td>
                    <td class="points">${player.points}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (players.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 20px;">–ù–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞!</td></tr>';
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
        function updatePlayerSelects() {
            const player1Select = document.getElementById('player1');
            const player2Select = document.getElementById('player2');
            const winnerSelect = document.getElementById('winner');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
            const currentPlayer1 = player1Select.value;
            const currentPlayer2 = player2Select.value;
            const currentWinner = winnerSelect.value;
            
            // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–∫–∏
            player1Select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ 1</option>';
            player2Select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ 2</option>';
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ø–∏—Å–∫–∏ –∏–≥—Ä–æ–∫–∞–º–∏
            players.forEach(player => {
                const option1 = document.createElement('option');
                option1.value = player.id;
                option1.textContent = player.name;
                player1Select.appendChild(option1);
                
                const option2 = document.createElement('option');
                option2.value = player.id;
                option2.textContent = player.name;
                player2Select.appendChild(option2);
            });
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
            player1Select.value = currentPlayer1;
            player2Select.value = currentPlayer2;
            winnerSelect.value = currentWinner;
        }
        
        // –°–±—Ä–æ—Å —Ç—É—Ä–Ω–∏—Ä–∞
        function resetTournament() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å —Ç—É—Ä–Ω–∏—Ä? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                players = [];
                saveData();
                updateTable();
                updatePlayerSelects();
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏
        document.getElementById('new-player-name').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPlayer();
            }
        });
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.onload = loadData;
    </script>
</body>
</html>
